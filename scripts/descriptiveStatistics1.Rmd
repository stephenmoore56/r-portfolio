---
title: "R - Descriptive Statistics"
author: "Stephen Moore"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: 
    html_document:
        theme: default
        highlight: tango
        toc: true
---

### Introduction

This document demonstrates different ways of generating descriptive statistics and makes use of the diamonds dataset.

```{r init, warning=FALSE, message=FALSE}
library(knitr)
library(dplyr)
knitr::opts_chunk$set(tidy=T, 
               fig.width=10,
               fig.height=5,
               fig.align='left',
               warning=FALSE,
               message=FALSE,
               echo=TRUE)
options(width = 120)
library(ggplot2)
attach(diamonds)
```

### Base Package

```{r descriptiveStatistics1, tidy=F}
# show metadata for the dataset
str(diamonds)
# show the beginning and ending rows of the dataset
kable(head(diamonds), 
      format='markdown', 
      caption="Books Read",
      digits=4)
kable(tail(diamonds), 
      format='markdown', 
      caption="Books Read",
      digits=4)
```

```{r descriptiveStatistics2, tidy=F}
# show the mean of all variables in the dataset.
# This technique could also be used with other functions like
#   median()
#   sd()
#   min()
#   max()
numeric_columns = c(1,5:10)
sapply(diamonds[numeric_columns],mean,na.rm=T)
# show Tukey's five number summary (min, 1Q, median, 3Q, max)
fivenum(diamonds$price)
# base summary function; provides counts for categorical variables
summary(diamonds)
```

### psych Package

```{r descriptiveStatistics3, tidy=F}
# good alternative library for descriptive statistics
library(psych)
kable(describe(diamonds[numeric_columns]), 
      format='markdown', 
      caption="Books Read",
      digits=4)
describeBy(diamonds[numeric_columns], group=color)
```

### pastecs Package

```{r descriptiveStatistics4, tidy=F}
# another library
library(pastecs)
kable(stat.desc(diamonds[numeric_columns]), 
      format='markdown', 
      caption="Books Read",
      digits=4)
```

### dplyr Package

```{r descriptiveStatistics5, tidy=F}
# another library
library(dplyr)

# custom function for std err of the mean
se = function(x) {
  sd(x, na.rm=TRUE) / sqrt(length(x[!is.na(x)])) 
}

price_by_color = diamonds %>%
  group_by(color) %>% 
  summarise(ct=n(),
            mn=mean(price),
            md=median(price),
            min=min(price),
            max=max(price),
            range=max-min,
            sd=sd(price),
            se(price),
            skew(price),
            kurtosi(price))
colnames(price_by_color) = 
  c('Color','Count','Mean','Median','Min','Max','Range','Std Dev','Std Err','Skew','Kurtosis')
kable(price_by_color, format='markdown', digits=4)
```

### Programming Environment

```{r}
sessionInfo()
```


